let irrVerbs_Easy_Str = "1.! be[biː] быть was[wɒz]/were[wɜ:] been[bi:n] 2.! have[hæv] иметь,обладать had[hæd] had[hæd] 3.! do[du:] делать did[dɪd] done[dʌn] 4.! say[seɪ] сказать said[sed] said[sed] 5.! go[goʊ] идти,ехать went[went] gone[gɒn] 6.! get[get] получать got[gɒt] got[gɒt]/gotten[gɒtn] 7.! make[meɪk] делать,вносить made[meɪd] made[meɪd] 8.! know[noʊ] знать knew[nju:] known[noʊn] 9.! think[θɪŋk] думать thought[θɔ:t] thought[θɔ:t] 10.! take[teɪk] брать,принять took[tʊk] taken[teɪkən] 11.! see[siː] видеть saw[sɔ:] seen[si:n] 12.! come[kʌm] приходить came[keɪm] come[kʌm] 15.! find[faɪnd] находить found[faʊnd] found[faʊnd] 16.! give[gɪv] давать gave[geɪv] given[gɪvn] 17.! tell[tel] сказать,рассказывать told[toʊld] told[toʊld] 23.! feel[fi:l] чувствовать felt[felt] felt[felt] 24.! become[bɪ`kʌm] становиться became[bɪ`keɪm] become[bɪ`kʌm] 25.! leave[li:v] оставлять,уйти,покинуть left[left] left[left] 26.! put[pʊt] класть,положить put[pʊt] put[pʊt] 27.! mean[mi:n] означать,значить,иметь_в_виду meant[ment] meant[ment] 28.! keep[ki:p] держать,сохранять kept[kept] kept[kept] 29.! let[let] позволять let[let] let[let] 30.! begin[bɪ`gɪn] начинать(ся) began[bɪ`gæn] begun[bɪ`gʌn] 33.! show[ʃoʊ] показывать showed[ʃoʊd] shown[ʃoʊn] 34.! hear[hɪə] слышать heard[hɜ:d] heard[hɜ:d] 36.! run[rʌn] бежать ran[ræn] run[rʌn] 40.! bring[brɪŋ] приносить,приводить brought[brɔ:t] brought[brɔ:t] 42.! write[raɪt] писать wrote[roʊt] written[rɪtn] 43.! sit[sɪt] сидеть,садиться sat[sæt] sat[sæt] 44.! stand[stænd] стоять stood[stʊd] stood[stʊd] 45.! lose[lu:z] терять,проигрывать lost[lɒst] lost[lɒst] 46.! pay[peɪ] платить paid[peɪd] paid[peɪd] 47.! meet[mi:t] встречать met[met] met[met] 50.! set[set] устанавливать,ставить set[set] set[set] 51.! learn[lɜ:n] учить learnt[lɜ:nt]/learned[lɜ:nd] learnt[lɜ:nt]/learned[lɜ:nd] 53.! lead[li:d] вести(за_собой) led[led] led[led] 54.! understand[ʌndə`stænd] понимать understood[ʌndə`stʊd] understood[ʌndə`stʊd] 59.! speak[spi:k] говорить spoke[spoʊk] spoken[spoʊkən] 60.! read[riːd] читать read[red] read[red] 61.! spend[spend] тратить,проводить(время) spent[spent] spent[spent] 62.! grow[groʊ] расти,выращивать grew[gru:] grown[groʊn] 65.! win[wɪn] побеждать,выигрывать won[wʌn] won[wʌn] 66.! teach[ti:tʃ] научить,обучать,преподавать taught[tɔ:t] taught[tɔ:t] 71.! buy[baɪ] купить,покупать bought[bɔ:t] bought[bɔ:t] 74.! send[send] посылать;отправлять sent[sent] sent[sent] 75.! build[bɪld] строить built[bɪlt] built[bɪlt] 77.! fall[fɔ:l] падать fell[fel] fallen[fɔ:lən] 78.! cut[kʌt] резать cut[kʌt] cut[kʌt] 83.! sell[sel] продавать sold[soʊld] sold[soʊld] 90.! break[breɪk] ломать broke[broʊk] broken[broʊkən] 94.! hit[hɪt] ударять,поражать hit[hɪt] hit[hɪt] 96.! eat[i:t] есть,кушать ate[et] eaten[i:tn] 98.! catch[kætʃ] ловить caught[kɔ:t] caught[kɔ:t] 99.! draw[drɔ:] рисовать drew[dru:] drawn[dru:] 100.! choose[tʃu:z] выбирать chose[tʃoʊz] chosen[tʃoʊzn] 101.! hold[hoʊld] держать held[held] held[held] 104.! drive[draɪv] ехать,водить(машину) drove[droʊv] driven[drɪvn] 102.! lie[laɪ] лежать lay[leɪ] lain[leɪ] 103.! rise[raɪz] подниматься,рости rose[roʊz] risen[rɪzn] 105.! wear[wɛə] носить(одежду) wore[wɔ:] worn[wɔ:n] 107.! throw[θroʊ] бросать threw[θru:] thrown[θroʊn] 108.! deal[diːl] иметь_дело,торговать dealt[delt] dealt[delt] 109.! forget[fə`get] забыть,забывать forgot[fə`gɒt] forgotten[fə`gɒtn] 110.! fight[faɪt] драться,бороться fought[fɔ:t] fought[fɔ:t] 111.! sing[sɪŋ] петь sang[sæŋ] sung[sʌŋ] 112.! strike[straɪk] ударять,бить struck[strʌk] struck[strʌk],stricken[strɪkən] 113.! hang[hæŋ] вешать,висеть hung[hʌŋ] hung[hʌŋ] 114.! shake[ʃeɪk] трясти shook[ʃʊk] shaken[ʃeɪkən] 115.! ride[raɪd] ездить(верхом) rode[roʊd] ridden[rɪdn] 116.! feed[fi:d] кормить fed[fed] fed[fed] 117.! shoot[ʃu:t] стрелять shot[ʃɒt] shot[ʃɒt] 118.! drink[drɪnk] пить drank[drænk] drunk[drʌnk] 119.! fly[flaɪ] летать flew[flu:] flown[floʊn] 119.! arise[ə`raɪz] возникать arose[ə`roʊz] arisen[ə`rɪzn] 120.! swim[swɪm] плавать swam[swæm] swum[swʌm] 121.! spread[spred] распространять spread[spred] spread[spred] 122.! sleep[sli:p] спать slept[slept] slept[slept] 123.! cost[kɒst] стоить cost[kɒst] cost[kɒst] 124.! beat[bi:t] бить beat[bi:t] beaten[bi:tn] 126.! bind[baɪnd] вязать,связывать bound[baʊnd] bound[baʊnd] 127.! cast[kɑ:st] бросать,кидать,отливать cast[kɑ:st] cast[kɑ:st] 128.! hide[haɪd] прятать(ся),скрывать hid[hɪd] hidden[hɪdn] 129.! blow[bloʊ] дуть,выдыхать,взорвать blew[blu:] blown[bləun] 131.! bend[bend] сгибать,гнуть(ся) bent[bent] bent[bent] 132.! wake[weɪk] просыпаться,будить woke[woʊk] woken[woʊkən] 134.! sweep[swi:p] подметать swept[swept] swept[swept] 136.! shut[ʃʌt] закрывать shut[ʃʌt] shut[ʃʌt] 137.! steal[sti:l] красть,воровать stole[stoʊl] stolen[stoʊlən] 138.! tear[tɛə] рвать,отрывать tore[tɔ:] torn[tɔ:n] 139.! hurt[hɜ:t] повредить,ранить hurt[hɜ:t] hurt[hɜ:t] 140.! ring[rɪŋ] звонить rang[ræŋ] rung[rʌŋ] 143.! swing[swɪŋ] качаться,раскачивать(ся) swung[swʌŋ] swung[swʌŋ] 144.! lend[lend] одалживать lent[lent] lent[lent] 146.! overcome[ˌoʊvərˈkʌm] преодолеть,побороть overcame[ˌoʊvərˈkeɪm] overcome[ˌoʊvərˈkʌm] 147.! freeze[fri:z] замерзать froze[froʊz] frozen[froʊzn] 148.! shine[ʃaɪn] светить,сиять shone[ʃoʊn] shone[ʃoʊn] 150.! bite[baɪt] кусать bit[bɪt] bitten[bɪtn] 154.! burst[bɜ:st] разрываться,лопаться burst[bɜ:st] burst[bɜ:st] 160.! split[splɪt] раскалывать,расщеплять split[splɪt] split[splɪt] 166.! dream[dri:m] мечтать,сниться dreamt[dremt] dreamt[dremt]";
let irrVerbs_Hard_Str = "106.! seek[si:k] искать,стремится sought[sɔ:t] sought[sɔ:t] 125.! light[laɪt] освещать,зажигать lit[lɪt] lit[lɪt] 133.! stick придерживаться,держаться,липнуть stuck stuck 135. undertake проводить,осуществлять undertook undertaken 141.! lay[leɪ] положить,класть laid[leɪd] laid[leɪd] 142.! bear[bɛə] нести,выносить bore[bɔ:] born[bɔ:n] 145.! sink[sɪŋk] тонуть,потопить sank[sæŋk] sunk[sʌŋk] 149 withdraw снять,вывести withdrew withdrawn 0154 allow позволять,разрешать allowed allowed 0157 provide представить,снабжать provided provided 0164 avoid избегать avoided avoided 0166 suggest предлагать,советовать suggested suggested 0169 approve одобрять approved approved 0177 order заказывать ordered ordered 151.! bet[bet] держать_пари bet[bet] bet[bet] 152.! bid[bɪd] предлагать_цену bid[bɪd]/bade[beɪd] bid[bɪd]/bidden[bɪdn] 153.! broadcast['brɔːdkɑːst] передавать_по_радио,вещать broadcast['brɔːdkɑːst] broadcast['brɔːdkɑːst] 155.! forecast['fɔːkɑːst] прогнозировать,предсказывать forecast['fɔːkɑːst] forecast['fɔːkɑːst] 156.! quit[kwɪt] покидать,бросить(уйти) quit[kwɪt] quit[kwɪt] 157.! rid[rɪd] избавлять,освобождать rid[rɪd] rid[rɪd] 158.! shed[ʃed] проливать shed[ʃed] shed[ʃed] 161.! thrust[θrʌst] толкать,колоть thrust[θrʌst] thrust[θrʌst] 162. upset расстроить,опрокидывать upset upset 163.! dig[dɪg] копать,рыть dug[dʌg] dug[dʌg] 164.! forgive[fə`gɪv] прощать forgave[fə`geɪv] forgiven[fəgɪvn] 165.! creep[kri:p] ползать crept[krept] crept[krept] 167.! slide[slaɪd] скользить slid[slɪd] slid[slɪd] 168.! sling[slɪŋ] метать slung[slʌŋ] slung[slʌŋ] 169.! smell[smel] пахнуть,нюхать smelt[smelt] smelt[smelt] 170.! speed[spi:d] ускорять,мчаться sped[sped] sped[sped] 171.! spell[spel] писать(произносить)_по_буквам spelt[spelt] spelt[spelt] 172.! spit[spɪt] плевать spat[spæt] spat[spæt] 173.! spoil[spoɪl] портить spoilt[spoɪlt] spoilt[spoɪlt] 174.! shrink[ʃrɪŋk] сокращать,сжиматься shrank[ʃræŋk] shrunk[ʃrʌŋk] 175.! spring[sprɪŋ] возникать sprang[spræŋ] sprung[sprʌŋ] 176.! stink[stɪŋk] вонять stank[stræŋk] stunk[stʌŋk] 177.! forbid[fə`bɪd] запрещать,не_позволять forbade[fə`beɪd] forbidden[fəbɪdn] 178.! swear[swɛə] клясться swore[swɔ:] sworn[swɔ:n] 179.! weave[wi:v] ткать wove[woʊv] woven[woʊvən] 180.! saw[sɔ:] пилить sawed[sɔ:d] sawn[sɔ:n] 181.! shear[ʃɪə] стричь sheared[ʃɪəd] shorn[ʃɔ:n] 182.! sow[soʊ] сеять sowed[soʊd] sown[soʊn] 183.! swell[swel] раздуваться,набухать swelled[sweld] swollen[swoʊlən] 184.! bleed[bli:d] кровоточить,истекать_кровью bled[bled] bled[bled] 185.! grind[graɪnd] молоть,растирать(в_порошок) ground[graʊnd] ground[graʊnd] 186.! wind[waɪnd] виться(ся),наматывать wound[waʊnd] wound[waʊnd] 187.! sting[stɪŋ] жалить stung[stʌŋ] stung[stʌŋ] 188.! abide[əˈbaɪd] терпеть,выносить abode[əˈboʊd] abode[əˈboʊd] 189.! awake[əˈweɪk] будить,просыпаться awoke[ə`woʊk] awoken[ə`woʊkn] 190.! backbite['bækbaɪt] злословить,клеветать backbit['bækbɪt] backbit['bækbɪt]/backbitten['bæˌkbɪtn]";
var adjective_Easy_Str = "6. different разный,непохожий,отличный(от_чего-то) 7. useful полезный 8. large крупный,большой 12. small небольшой,маленький 14. available доступный 18. additional дополнительный 22. usual обычный 23. similar похожий 25. healthy здоровый 28. weak слабый 31. kind добрый 32. gorgeous изумительный,роскошный 36. cheap дешевый 37. expensive дорогой 38. poor бедный 40. polite вежливый,воспитанный 41. rude грубый 42. responsible ответственный 44. helpful предупредительный,отзывчивый 45. recent недавний 48. typical типичный 49. huge огромный,грандиозный 51. frightful страшный 52. relevant уместный,актуальный,относящийся_к_делу 53. legal законный 54. illegal незаконный 56. safe надежный,сохранный 57. efficient квалифицированный,эффективный 58. powerful властный 59. foreign иностранный 61. thirsty испытывающий_жажду 62. attentive внимательный 63. boring скучный 64. careful заботливый 65. famous известный 66. obvious очевидный 67. suitable подходящий,пригодный 68. comfortable удобный,комфортный 69. long длинный 70. constant постоянный 71. afraid испуганный 72. former бывший 73. terrible ужасный 74. pleasant приятный 75. sudden внезапный 76. curious любопытный 77. anxious беспокойный 78. lucky удачливый,удачный 79. sad печальный 80. friendly дружелюбный";
var phrVerbs_Easy_Str = "1 pick_up забрать,подобрать,подцепить 2 go_on продолжать(ся),отправится 3 get_out убираться,выбираться,вылезать 4 go_back возвращаться,вернуться 5 come_on дадай!,пошли!,да_брось! 6 come_back вернуться,возвращаться 7 sit_down сесть,садиться 8 come_out выйти,выходить,появляться 9 come_in войти,зайти,приходить 10 look_for искать 11 get_up вставать,подниматься,просыпатьс 12 come_up прийти,подойти,подниматься 13 look_down смотреть,смотреть_вниз 14 go_out выходить 15 take_off снимать_(с_себя),взлететь";

var transcriptionArr = [], 
    currentArrEng = [],  //сделать единым для всех трёх уровней  
    currentArrRus = [];  //сделать единым для всех трёх уровней
//     engWordSimplePast = [],
//     engWordPastParticiple = [],
//     wordsArrLength = null;


var irrVerbs_Multiplier = 5,
    adjective_Multiplier = 3,
    phrVerbs_Multiplier = 3;

let irrVerbs_Hard_Arr = irrVerbs_Hard_Str.split(' '),
    irrVerbs_Hard_Length = irrVerbs_Hard_Arr.length / irrVerbs_Multiplier;
let irrVerbs_Easy_Arr = irrVerbs_Easy_Str.split(' '),
    irrVerbs_Easy_Length = irrVerbs_Easy_Arr.length / irrVerbs_Multiplier;
let adjective_Easy_Arr = adjective_Easy_Str.split(' '),
    adjective_Easy_Length = adjective_Easy_Arr.length / adjective_Multiplier;
let phrVerbs_Easy_Arr = phrVerbs_Easy_Str.split(' '),
    phrVerbs_Easy_Length = phrVerbs_Easy_Arr.length / phrVerbs_Multiplier;


var mode = "",              // режим
    currentLength = null,   // колличество слов
    rng = null,             // случайное число
    order = "eng_rus",      // eng || rus || mix
    orderValue = null,      // порядок 
    transcrSwitch = false,
    historyArr = [],        // сохранять позиции последних слов (чтобы исключить повторения)
    historyLength = 2;      // количество слов защищённых от повторения

/*main-menu*/
var 
    btnirrVerbsEasy = document.getElementById("btn-irregular-verbs-easy"),    // неправильные глаголы лёгкие  (~100 слов)
    btnirrVerbsHard = document.getElementById("btn-irregular-verbs-hard"),    // неправильные глаголы средние (~50 слов)
    btnAdjectiveEasy = document.getElementById("btn-adjective-easy"),         // прилагатеьные лёгкие         (~50 слов)
    btnPhrasalVerbsEasy = document.getElementById("btn-phrasal-verbs-easy");  // фразовые глаголы лёгкие      (~20 слов)
/*program*/
var screenMainMenu = document.getElementById("main-menu"),
    screenProgram = document.getElementById("program"),
    backToMenu = document.getElementById("back-to-menu"),
    revers = document.getElementById("revers"),
    transcription = document.getElementById("transcription"),
    askWord = document.getElementById("ask-word"),
    askTranscript = document.getElementById("ask-transcript"),
    answerWord = document.getElementById("answer-word"),
    answerTranscript = document.getElementById("answer-transcript"),
    next = document.getElementById("buttonNext"),
    check = document.getElementById("buttonCheck"),
    info = document.getElementById("info");


function pushArray(currentArr, engArr, rusArr, multiplier){
  for (var i = 1; i < currentArr.length; i = i + multiplier) {
    engArr.push(currentArr[i]);
    rusArr.push(currentArr[i+1]);
  };
}

/*select mode*/
btnirrVerbsEasy.onclick = function(){
  mode = "easy-mode";
  currentLength = irrVerbs_Easy_Length;
  clearArray();
  pushArray(irrVerbs_Easy_Arr, currentArrEng, currentArrRus, irrVerbs_Multiplier);
  currentArrEng.forEach(cutTranscription);
  displayTransition();
}
btnirrVerbsHard.onclick = function(){
  mode = "hard-mode";
  currentLength = irrVerbs_Hard_Length;
  clearArray();
  pushArray(irrVerbs_Hard_Arr, currentArrEng, currentArrRus, irrVerbs_Multiplier);
  currentArrEng.forEach(cutTranscription);
  displayTransition();
}
btnAdjectiveEasy.onclick = function(){
  mode = "adjective";
  currentLength = adjective_Easy_Length;
  clearArray();
  pushArray(adjective_Easy_Arr, currentArrEng, currentArrRus, adjective_Multiplier);
  displayTransition();
}
btnPhrasalVerbsEasy.onclick = function(){
  mode = "phr-verbs-easy";
  clearArray();
  currentLength = phrVerbs_Easy_Length;
  pushArray(phrVerbs_Easy_Arr, currentArrEng, currentArrRus, phrVerbs_Multiplier);
  displayTransition();
}

function displayTransition(){
  screenMainMenu.style.display = "none";
  screenProgram.style.display = "block";
  currentArrRus.forEach(editing);
  currentArrEng.forEach(editing);
  go();
  console.log(currentArrEng);
}

function clearArray(){
  currentArrEng = [];
  currentArrRus = [];
  transcriptionArr = [];
  askTranscript.innerHTML = "";
}

// добовление пробелов
function editing(currentValue, index, array){
  if (currentValue.includes(',') || currentValue.includes('_'))
    array[index] = currentValue.split(',').join(', ').split('_').join(' ');
}

/* back to menu */
backToMenu.onclick = function(){
  document.location.reload(true);   // Перезагрузка страницы, вместо обнуления переменных
}

/* Order ENG-RUS RUS-ENG Mix */
revers.onclick = function(){
  if(order == "eng_rus"){
    order = "rus_eng";
    revers.innerHTML = "rus-eng"
  }
  else if(order == "rus_eng"){
    order = "mix";
    revers.innerHTML = "mix"
  }
  else if(order == "mix"){
    order = "eng_rus";
    revers.innerHTML = "eng-rus"
  }
}

/*transcription*/
transcription.onclick = function(){
  if(transcrSwitch){
    transcrSwitch = false;
    transcription.style.backgroundColor = "buttonface";
    askTranscript.style.display = "none";
    answerTranscript.style.display = "none";
  } else {
    transcrSwitch = true;
    transcription.style.backgroundColor = "palegreen";
    askTranscript.style.display = "inline-block";
    answerTranscript.style.display = "inline-block";
  }
}

/* извлекание транскрипции */
var posttrans = [];
var indx1 = "";
var indx2 = "";
var transRes = "";
function cutTranscription(x){
  if(x.includes("[") == true){
    indx1 = x.indexOf("[");
    indx2 = x.indexOf("]");
    transRes = x.substring(indx1, indx2+1);
    posttrans.push(x.replace(transRes, ''));
    transcriptionArr.push(transRes);
  } else {  // 
    posttrans.push(x);
    transcriptionArr.push('');
  }
  currentArrEng = posttrans;
}

function go(){
  blesRng();
  if (mode == "easy-mode" || mode == "medium-mode" || mode == "hard-mode"){
    if (order == "eng_rus" || (order == "mix" && orderValue == 0)){
      askWord.innerHTML = currentArrEng[rng];
      askTranscript.innerHTML = transcriptionArr[rng];
      correctAnswer = currentArrRus[rng];
    } else if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
      askWord.innerHTML = currentArrRus[rng];
      correctAnswer = currentArrEng[rng];
    }
  } else if (mode == "adjective" || mode == "phr-verbs-easy"){
    if (order == "eng_rus" || (order == "mix" && orderValue == 0)){
      askWord.innerHTML = currentArrEng[rng];
      correctAnswer = currentArrRus[rng];
    } else if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
      askWord.innerHTML = currentArrRus[rng];
      correctAnswer = currentArrEng[rng];
    }
  }

  if (historyArr.length > historyLength ){
    historyArr.shift();
  }
  historyArr.push(rng);
  info.innerHTML = "[" + historyArr + "]";
}

function blesRng(){
  rng = Math.floor(Math.random() * currentLength);
  orderValue = Math.floor(Math.random() * 2);
  checkHistory();
}

next.onclick = function nextWord(){
  answerWord.innerHTML = "";
  askTranscript.innerHTML = "";
  answerTranscript.innerHTML = "";
  go();
}
check.onclick = function checkWord(){
  answerWord.innerHTML = correctAnswer;
  if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
    answerTranscript.innerHTML = transcriptionArr[rng];
  }
}

// предотвразщает повторение слов
function checkHistory(){
  for(var i = 0; i <= historyLength; i++){
    if (historyArr[i] == rng){
      blesRng();
    }
  }
}

