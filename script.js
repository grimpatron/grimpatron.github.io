var easyWordsStr = "1. be[bi] быть was/were been 2. have[həv] иметь had had 3. do[du] делать did done 4. say[seɪ] сказать said said 5. go[ɡoʊ] идти went gone 6. get[ɡet] получать got got/gotten 7. make[meɪk] делать,вносить made made 8. know[noʊ] знать knew known 9. think[θɪŋk] думать thought thought 10. take[teɪk] брать,принять took taken 11. see[siː] видеть saw seen 12. come[kʌm] приходить came come 13 want[wɑːnt] хотеть wanted wanted 14 use[juːz] использовать used used 15. find[faɪnd] находить found found 16. give[ɡɪv] давать gave given 18 work[wɜːrk] работать worked worked 21 ask[æsk] спросить,просить,задать asked asked 22 need[niːd] нуждаться needed needed 23. feel[fiːl] чувствовать felt felt 24. become[bɪˈkʌm] становиться became become 25. leave[liːv] оставлять,уйти,покинуть left left 26. put[pʊt] класть;положить put put 27. mean[miːn] означать,значить,иметь_в_виду meant meant 28. keep[kiːp] держать,сохранять kept kept 30. begin[bɪˈɡɪn] начинать began begun 32 help[help] помогать helped helped 33. show[ʃoʊ] показывать showed shown,showed 34. hear[hɪr] слышать heard heard 35 play[pleɪ] играть played played 36. run[rʌn] бежать ran run 37 move[muːv] двигаться,переезжать moved moved 38 live[lɪv] жить lived lived 39 believe[bɪˈliːv] верить believed believed 40. bring[brɪŋ] приносить brought brought 41 happen[ˈhæpən] случаться happened happened 42. write[raɪt] писать wrote written 43. sit[sɪt] сидеть,садиться sat sat 44. stand[stænd] стоять stood stood 45. lose[luːz] терять,проигрывать lost lost 46. pay[peɪ] платить paid paid 47. meet[miːt] встречать met met 48 include[ɪnˈkluːd] включать included included 49 continue[kənˈtɪnjuː] продолжать continued continued 50. set[set] устанавливать;ставить set set 51. learn[lɜːrn] учить learnt/learned learnt/learned 52 change[tʃeɪndʒ] менять changed changed 54. understand[ˌʌndərˈstænd] понимать understood understood 55 watch[wɑːtʃ] смотреть watched watched 56 follow[ˈfɑːloʊ] следовать followed followed 58 create[kriˈeɪt] создавать created created 59. speak[spiːk] говорить spoke spoken 60. read[riːd] читать read read 62. grow[ɡroʊ] расти grew grown 63 open[ˈoʊpən] открывать opened opened 65. win[wɪn] победить,выигрывать won won 66. teach[tiːtʃ] учить,обучать,преподавать taught taught 68 remember[rɪˈmembər] помнить remembered remembered 71. buy[baɪ] покупать bought bought 73 die[daɪ] умирать died died 75. build[bɪld] строить built built 77. fall[fɔːl] падать fell fallen 78. cut[kʌt] резать cut cut 80 kill[kɪl] убивать killed killed 83. sell[sel] продавать sold sold 85 return[rɪˈtɜːrn] возвращаться returned returned 87 hope[hoʊp] надеяться hoped hoped 88 develop[dɪˈveləp] разрабатывать,развивать developed developed 89 carry[ˈkæri] везти,нести carried carried 90. break[breɪk] ломать broke broken 93 support[səˈpɔːrt] поддерживать supported supported 96. eat[iːt] есть(кушать) ate eaten 98. catch[kætʃ] ловить caught caught 99. draw[drɔː] рисовать drew drawn 100. choose[tʃuːz] выбирать chose chosen 101. hold[hoʊld] держать held held 104. drive[draɪv] ехать,водить(машину) drove driven 105. wear[wer] носить(одежду) wore worn 108. deal[diːl] иметь_дело dealt dealt 109. forget[fərˈɡet] забывать forgot forgotten 110. fight[faɪt] драться,бороться fought fought 111. sing[sɪŋ] петь sang sung 112. strike[straɪk] ударять;бить struck struck,stricken 114. shake[ʃeɪk] трясти shook shaken 115. ride[raɪd] ездить(верхом) rode ridden 116. feed[fiːd] кормить fed fed 117. shoot[ʃuːt] стрелять shot shot 118. drink[drɪŋk] пить drank drunk 119. fly[flaɪ] летать flew flown 120. swim[swɪm] плавать swam swum 122. sleep[sliːp] спать slept slept 123. cost[kɔːst] стоить cost cost 128. hide[haɪd] прятать,скрывать hid hidden 129. blow[bloʊ] дуть,выдыхать,взорвать blew blown 132. wake[weɪk] просыпаться,будить woke woken 136. shut[ʃʌt] закрывать shut shut 137. steal[stiːl] красть,воровать stole stolen 138. tear[ter] рвать,отрывать tore torn 147. freeze[friːz] замерзать froze frozen 148. shine[ʃaɪn] светить,сиять shone shone";
var mediumWordsStr = "19 call (звонить,назвать,звать) called called 20 try (попробывать,пытаться) tried tried 64 walk (идти) walked walked 72 serve (служить) served served 79 reach (достигать) reached reached 82 pass (пройти,миновать) passed passed 84 decide (решать) decided decided 92 agree (соглашаться) agreed agreed 97 cover (покрывать) covered covered 17. tell (сказать;рассказывать) told told 29. let (позволять) let let 53. lead (вести(за_собой)) led led 86 explain (объяснять) explained explained 107. throw бросать threw thrown 95 produce (производить) produced produced 102. lie лежать lay lain 31 seem (казаться) seemed seemed 94. hit (ударять) hit hit 127. cast брать,кидать cast cast 140. ring звонить rang rung 67 offer (предлагать) offered offered 69 consider (считать) considered considered 103. rise подниматься,рости rose risen 124. beat бить,победить beat beaten 0150 confirm подтверждать,утверждать confirmed confirmed 0156 thank благодарить thanked thanked 0158 add добавлять added added 57 stop (остановить,прекращать) stopped stopped 76 stay (оставаться) stayed stayed 126. bind вязать,связывать bound bound 139. hurt повредить,ранить hurt hurt 0162 discuss обсуждать discussed discussed 0168 translate переводить translated translated 0172 answer отвечать answered answered 0173 smile улыбаться smiled smiled 0174 repeat повторять repeated repeated 0179 dance танцевать danced danced 0151 look[lʊk] смотреть looked looked 0152 close[kloʊz] закрывать closed closed 0159 jump[dʒʌmp] прыгать jumped jumped 0161 love[lʌv] любить loved loved 91 receive (получать) received received 81 raise (поднять;повысить;расти) raised raised 131. bend сгибать,гнуть bent bent 143. swing качаться,заскочить,раскачивать swung swung 144. lend одалживать lent lent 0153 remind напоминать reminded reminded 0167 depend зависеть depended depended 0170 cook готовить_еду cooked cooked 0175 join присоединять(ся) joined joined";
var hardWordsStr = "61. spend (тратить,проводить(время)) spent spent 70 appear (появляться) appeared appeared 74. send (посылать;отправлять) sent sent 106. seek стремится,искать sought sought 113. hang вешать,висеть hung hung 119 arise возникать arose arisen 121. spread распространять spread spread 125. light освещать,зажигать lit lit 133. stick придерживаться,держаться,хз stuck stuck 134. sweep подметать swept swept 135 undertake проводить,осуществлять undertook undertaken 141. lay положить,класть laid laid 142 bear нести,выносить bore born 145. sink тонуть,потопить sank sunk 146 overcome преодолеть,побороть overcame overcome 149 withdraw снять,вывести withdrew withdrawn 0154 allow позволять,разрешать allowed allowed 0155 prohibit запрещать prohibited prohibited 0157 provide представить,снабжать provided provided 0160 solve решать(проблему) solved solved 0163 achieve достигать achieved achieved 0164 avoid избегать avoided avoided 0165 prepare готовить,подготавливать prepared prepared 0166 suggest предлагать,советовать suggested suggested 0169 approve одобрять approved approved 0171 study учиться studied studied 0176 end заканчивать ended ended 0177 order заказывать ordered ordered 0178 plan планировать planned planned 0180 start начинать started started 150. bite кусать bit bitten 151. bet держать_пари bet bet 152. bid предлагать_цену bid bid 153. broadcast передавать_по_радио broadcast broadcast 154. burst разрываться burst burst 155. forecast предсказывать forecast forecast 156. quit покидать quit quit 157. rid избавлять rid rid 158. shed проливать shed shed 160. split раскалывать split split 161. thrust толкать thrust thrust 162. upset расстраиваться upset upset 163. dig копать,рыть dug dug 164. forgive прощать forgave forgiven 165. creep ползать crept crept 166. dream мечтать dreamt dreamt 167. slide скользить slid slid 168. sling метать slung slung 169. smell пахнуть smelt smelt 170. speed ускорять sped sped";
var adjective = "1. nice милый,приятный 3. young молодой 6. different разный,непохожий,отличный(от_чего-то) 7. useful полезный 8. large крупный,большой 10. every каждый,любой 11. important важный 12. small небольшой,маленький 13. basic основной,начальный,базовый 14. available доступный 15. popular популярный 18. additional дополнительный 19. interesting интересный 20. funny смешной 21. strange странный 22. usual обычный 23. similar похожий 25. healthy здоровый 26. traditional традиционный 27. strong сильный 28. weak слабый 29. strict строгий 31. kind добрый 32. gorgeous изумительный,роскошный 33. wonderful чудесный 35. successful успешный 36. cheap дешевый 37. expensive дорогой 38. poor бедный 39. rich богатый 40. polite вежливый,воспитанный 41. rude грубый 42. responsible ответственный 44. helpful предупредительный,отзывчивый 45. recent недавний 46. possible возможный 47. impossible невозможный 48. typical типичный 49. huge огромный,грандиозный 50. rare редкий 51. frightful страшный 52. relevant уместный,актуальный,относящийся_к_делу 53. legal законный 54. illegal незаконный 55. dangerous опасный 56. safe надежный,сохранный 57. efficient квалифицированный,эффективный 58. powerful властный 59. foreign иностранный 60. hungry голодный";

var transcriptionArr = [], 
    currentArrEng = [],  //сделать единым для всех трёх уровней  
    currentArrRus = [];  //сделать единым для всех трёх уровней
//     engWordSimplePast = [],
//     engWordPastParticiple = [],
//     wordsArrLength = null;




var verbMultiplier = 5,
    adjectiveMultiplier = 3;

var easyWordsArr = easyWordsStr.split(' '),
    easyWordsLength = easyWordsArr.length / verbMultiplier;
var mediumWordsArr = mediumWordsStr.split(' '),
    mediumWordsLength = mediumWordsArr.length / verbMultiplier;
var hardWordsArr = hardWordsStr.split(' '),
    hardWordsLength = hardWordsArr.length / verbMultiplier;
var adjectiveArr = adjective.split(' '),
    adjectiveLength = adjectiveArr.length / adjectiveMultiplier;


function pushArray(currentArr, engArr, rusArr, multiplier){
  for (var i = 1; i < currentArr.length; i = i + multiplier) {
    engArr.push(currentArr[i]);
    rusArr.push(currentArr[i+1]);
  };
}


var mode = "",
    currentLength = null,
    rng = null,
    order = "eng_rus",       // eng || rus || mix
    orderValue = null,
    transcrSwitch = false,
    historyArr = [],          // сохранять позиции последних слов (чтобы исключить повторения)
    historyLength = 2;        // количество слов защищённых от повторения

/*main-menu*/
var screenMainMenu = document.getElementById("main-menu"),
    btnEasy = document.getElementById("btn-easy"),
    btnMedium = document.getElementById("btn-medium"),
    btnHard = document.getElementById("btn-hard"),
    adjective = document.getElementById("adjective");
/*program*/
var screenProgram = document.getElementById("program"),
    backToMenu = document.getElementById("back-to-menu"),
    revers = document.getElementById("revers"),
    transcription = document.getElementById("transcription"),
    askWord = document.getElementById("ask-word"),
    askTranscript = document.getElementById("ask-transcript"),
    answerWord = document.getElementById("answer-word"),
    answerTranscript = document.getElementById("answer-transcript"),
    next = document.getElementById("buttonNext"),
    check = document.getElementById("buttonCheck"),
    info = document.getElementById("info");

/*select mode*/
btnEasy.onclick = function(){
  mode = "easy-mode";
  currentLength = easyWordsLength;
  clearArray();
  pushArray(easyWordsArr, currentArrEng, currentArrRus, verbMultiplier);
  currentArrEng.forEach(cutTranscription);
  displayTransition();
}
btnMedium.onclick = function(){
  mode = "medium-mode";
  currentLength = mediumWordsLength;
  clearArray();
  pushArray(mediumWordsArr, currentArrEng, currentArrRus, verbMultiplier);
  displayTransition();
}
btnHard.onclick = function(){
  mode = "hard-mode";
  currentLength = hardWordsLength;
  clearArray();
  pushArray(hardWordsArr, currentArrEng, currentArrRus, verbMultiplier);
  displayTransition();
}
adjective.onclick= function(){
  mode = "adjective";
  currentLength = hardWordsLength;
  clearArray();
  pushArray(adjectiveArr, currentArrEng, currentArrRus, adjectiveMultiplier);
  displayTransition();
}
function displayTransition(){
  screenMainMenu.style.display = "none";
  screenProgram.style.display = "block";
  go();
  console.log(currentArrEng);
}
function clearArray(){
  currentArrEng = [];
  currentArrRus = [];
  transcriptionArr = [];
  askTranscript.innerHTML = "";
}

/* back to menu */
backToMenu.onclick = function(){
  document.location.reload(true);   // Перезагрузка страницы, вместо обнуления переменных
}

/* Order ENG-RUS RUS-ENG Mix */
revers.onclick = function(){
  if(order == "eng_rus"){
    order = "rus_eng";
    revers.innerHTML = "rus-eng"
  }
  else if(order == "rus_eng"){
    order = "mix";
    revers.innerHTML = "mix"
  }
  else if(order == "mix"){
    order = "eng_rus";
    revers.innerHTML = "eng-rus"
  }
}

/*transcription*/
transcription.onclick = function(){
  if(transcrSwitch){
    transcrSwitch = false;
    transcription.style.backgroundColor = "buttonface";
    askTranscript.style.display = "none";
    answerTranscript.style.display = "none";
  } else {
    transcrSwitch = true;
    transcription.style.backgroundColor = "palegreen";
    askTranscript.style.display = "inline-block";
    answerTranscript.style.display = "inline-block";
  }
}

// извлекание транскрипции 
var posttrans = [];
var indx1 = "";
var indx2 = "";
var transRes = "";
function cutTranscription(x){
    if(x.includes("[") == true){
    indx1 = x.indexOf("[");
    indx2 = x.indexOf("]");
    transRes = x.substring(indx1, indx2+1);
    posttrans.push(x.replace(transRes, ''));
    transcriptionArr.push(transRes);
  }
  currentArrEng = posttrans;
}


function go(){
  blesRng();
  if (mode == "easy-mode"){
    if (order == "eng_rus" || (order == "mix" && orderValue == 0)){
      askWord.innerHTML = currentArrEng[rng];
      askTranscript.innerHTML = transcriptionArr[rng];
      correctAnswer = currentArrRus[rng];
    } else if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
      askWord.innerHTML = currentArrRus[rng];
      correctAnswer = currentArrEng[rng];
    }
  } else if (mode == "medium-mode" || mode == "hard-mode"){
    if (order == "eng_rus" || (order == "mix" && orderValue == 0)){
      askWord.innerHTML = currentArrEng[rng];
      correctAnswer = currentArrRus[rng];
    } else if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
      askWord.innerHTML = currentArrRus[rng];
      correctAnswer = currentArrEng[rng];
    }
  } else if (mode == "adjective"){
    if (order == "eng_rus" || (order == "mix" && orderValue == 0)){
      askWord.innerHTML = currentArrEng[rng];
      correctAnswer = currentArrRus[rng];
    } else if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
      askWord.innerHTML = currentArrRus[rng];
      correctAnswer = currentArrEng[rng];
    }
  }

  if (historyArr.length > historyLength ){
    historyArr.shift();
  }
  historyArr.push(rng);
  info.innerHTML = "[" + historyArr + "]";
}

function checkHistory(){
  for(var i = 0; i <= historyLength; i++){
    if (historyArr[i] == rng){
      blesRng();
    }
  }
}

function blesRng(){
  rng = Math.floor(Math.random() * currentLength);
  orderValue = Math.floor(Math.random() * 2);
  checkHistory();
}

next.onclick = function nextWord(){
  answerWord.innerHTML = "";
  askTranscript.innerHTML = "";
  answerTranscript.innerHTML = "";
  go();
}
check.onclick = function checkWord(){
  answerWord.innerHTML = correctAnswer;
  if (order == "rus_eng" || (order == "mix" && orderValue == 1)){
    answerTranscript.innerHTML = transcriptionArr[rng];
  }
}


